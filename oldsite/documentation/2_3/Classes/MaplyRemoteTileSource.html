<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>MaplyRemoteTileSource Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 961)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">WhirlyGlobe-Maply </a></h1>
				<a id="developerHome" href="../index.html">mousebird consulting inc</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">MaplyRemoteTileSource Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/cacheDir">&nbsp;&nbsp;&nbsp;&nbsp;cacheDir</option>
	
	<option value="//api/name/coordSys">&nbsp;&nbsp;&nbsp;&nbsp;coordSys</option>
	
	<option value="//api/name/delegate">&nbsp;&nbsp;&nbsp;&nbsp;delegate</option>
	
	<option value="//api/name/tileInfo">&nbsp;&nbsp;&nbsp;&nbsp;tileInfo</option>
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/imageForTile:">&nbsp;&nbsp;&nbsp;&nbsp;- imageForTile:</option>
	
	<option value="//api/name/initWithBaseURL:ext:minZoom:maxZoom:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithBaseURL:ext:minZoom:maxZoom:</option>
	
	<option value="//api/name/initWithInfo:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithInfo:</option>
	
	<option value="//api/name/initWithTilespec:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithTilespec:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/cacheDir">cacheDir</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/coordSys">coordSys</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/delegate">delegate</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/tileInfo">tileInfo</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/imageForTile:">imageForTile:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithBaseURL:ext:minZoom:maxZoom:">initWithBaseURL:ext:minZoom:maxZoom:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithInfo:">initWithInfo:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithTilespec:">initWithTilespec:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="MaplyRemoteTileSource Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">MaplyRemoteTileSource Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Conforms to</td>
	<td class="specification-value"><a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a></td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">MaplyRemoteTileSource.h</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>This is the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> compliant object that communicates with remote servers and fetches individual tiles as needed by the MaplyQuadImageTileLayer.</p><p>It can be initialized in a couple of different ways depending on the information you have available.  Either you explicitly provide the baseURL, min and max levels and such, or hand in an NSDictionary that&rsquo;s been parsed from a tile spec.</p><p>The remote tile source also handles cacheing if it you give it a <a href="#//api/name/cacheDir">cacheDir</a> to work in.  By default cacheing is off (so be careful).</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithBaseURL:ext:minZoom:maxZoom:">&ndash;&nbsp;initWithBaseURL:ext:minZoom:maxZoom:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithTilespec:">&ndash;&nbsp;initWithTilespec:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/imageForTile:">&ndash;&nbsp;imageForTile:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithInfo:">&ndash;&nbsp;initWithInfo:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/tileInfo">&nbsp;&nbsp;tileInfo</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/delegate">&nbsp;&nbsp;delegate</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/coordSys">&nbsp;&nbsp;coordSys</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/cacheDir">&nbsp;&nbsp;cacheDir</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/cacheDir" title="cacheDir"></a>
	<h3 class="subsubtitle method-title">cacheDir</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Passes through the cacheDir from the <a href="../Classes/MaplyRemoteTileInfo.html">MaplyRemoteTileInfo</a></p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSString *cacheDir</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyRemoteTileSource.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/coordSys" title="coordSys"></a>
	<h3 class="subsubtitle method-title">coordSys</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Passes through the coord system from the <a href="../Classes/MaplyRemoteTileInfo.html">MaplyRemoteTileInfo</a></p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) MaplyCoordinateSystem *coordSys</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyRemoteTileSource.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/delegate" title="delegate"></a>
	<h3 class="subsubtitle method-title">delegate</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A delegate for tile loads and failures.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, weak) NSObject&lt;MaplyRemoteTileSourceDelegate&gt; *delegate</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If set, you&rsquo;ll get callbacks when the various tiles load (or don&rsquo;t). You get called in all sorts of threads.  Act accordingly.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyRemoteTileSource.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/tileInfo" title="tileInfo"></a>
	<h3 class="subsubtitle method-title">tileInfo</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Description of where we fetch the tiles from and where to cache them.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, readonly) MaplyRemoteTileInfo *tileInfo</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyRemoteTileSource.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/imageForTile:" title="imageForTile:"></a>
	<h3 class="subsubtitle method-title">imageForTile:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Read the image, but only if it&rsquo;s in the cache.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)imageForTile:(MaplyTileID)<em>tileID</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>tileID</em></dt>
			<dd><p>The tile (that should be in the cache) you want to read.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>MaplyRemoteTileSource uses asynchronous fetching.  This method is inherently
    synchronous.  You expect it to return the image for a tile right now.  So this method
    only works if the tile is in the cache.  Be sure to check on that first.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyRemoteTileSource.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithBaseURL:ext:minZoom:maxZoom:" title="initWithBaseURL:ext:minZoom:maxZoom:"></a>
	<h3 class="subsubtitle method-title">initWithBaseURL:ext:minZoom:maxZoom:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initialize with enough information to fetch remote tiles.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)initWithBaseURL:(NSString *)<em>baseURL</em> ext:(NSString *)<em>ext</em> minZoom:(int)<em>minZoom</em> maxZoom:(int)<em>maxZoom</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>baseURL</em></dt>
			<dd><p>The base URL for fetching TMS tiles.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>ext</em></dt>
			<dd><p>Extension for the images we&rsquo;ll be fetching, typically @&ldquo;png&rdquo; or @&ldquo;jpg&rdquo;</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>minZoom</em></dt>
			<dd><p>The minimum zoom level to fetch.  This really should be 0.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>maxZoom</em></dt>
			<dd><p>The maximum zoom level to fetch.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The MaplyRemoteTileSource object or nil on failure.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This version of the init method takes all the explicit
     information needed to fetch remote tiles.  This includes the
     base URL, file extension (e.g. image type), and min and max zoom levels.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyRemoteTileSource.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithInfo:" title="initWithInfo:"></a>
	<h3 class="subsubtitle method-title">initWithInfo:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initialize with remote tile info.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)initWithInfo:(MaplyRemoteTileInfo *)<em>info</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>info</em></dt>
			<dd><p>The <a href="../Classes/MaplyRemoteTileInfo.html">MaplyRemoteTileInfo</a> describing where to fetch the tiles.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The <a href="../Classes/MaplyRemoteTileInfo.html">MaplyRemoteTileInfo</a> object stores all the specifics about remote tile data.
    We actually created one of those for the other init calls in this objects.  Fill that object
    in and then call this initializaer.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyRemoteTileSource.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithTilespec:" title="initWithTilespec:"></a>
	<h3 class="subsubtitle method-title">initWithTilespec:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initialize from a remote tile spec.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)initWithTilespec:(NSDictionary *)<em>jsonSpec</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>jsonSpec</em></dt>
			<dd><p>An NSDictionary parsed from the JSON tile spec.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This version of the initializer takes an NSDictionary parsed
    from a JSON tile spec.  Take a look at the tile spec itself
    here (<a href="https://github.com/mapbox/tilejson-spec">https://github.com/mapbox/tilejson-spec).</a>.)  Basically
    it defines the available URLs (there can be multiple), the
    min and max zoom levels, coordinate system (not really) and
    file extension.  In many cases the coordinate system extents can&rsquo;t
    be trusted.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyRemoteTileSource.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2014 mousebird consulting inc. All rights reserved. (Last updated: 2014-07-09)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 961)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>